<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2015-11-26 Thu 00:47 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title>Android Security</title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Spinpx" />
<link rel="stylesheet" type="text/css" href="http://spinpx.com/org.css"/>
</head>
<body>
<div id="preamble" class="status">
<div class = "nav">
    <ul>
    <li><a class = "logo" href="/index.html">SPinPx</a><li>
	<li><a href="/posts.html"> Posts </a></li>
	<li><a href="/notes.html"> Notes </a></li>
	<li><a href="/about.html"> About </a></li>
    </ul>
</div>
</div>
<div id="content">
<h1 class="title">Android Security</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">Resouces</a></li>
<li><a href="#orgheadline2">Android Official Security Document</a>
<ul>
<li><a href="#orgheadline5">security/index</a>
<ul>
<li><a href="#orgheadline3">Introduction</a></li>
<li><a href="#orgheadline4">Background</a></li>
</ul>
</li>
<li><a href="#orgheadline6">security/overview/index</a></li>
</ul>
</li>
<li><a href="#orgheadline7">Java security</a>
<ul>
<li><a href="#orgheadline8">JCE</a>
<ul>
<li><a href="#orgheadline9">AndroidKeyStoreProvider</a></li>
<li><a href="#orgheadline10">Provider是干什么的？</a></li>
<li><a href="#orgheadline11">Key知识介绍</a></li>
<li><a href="#orgheadline12">Certificates知识介绍</a></li>
<li><a href="#orgheadline13">key 管理</a></li>
<li><a href="#orgheadline14">Message Digest和Signature</a></li>
</ul>
</li>
<li><a href="#orgheadline15">JSSE</a></li>
</ul>
</li>
<li><a href="#orgheadline16">base64</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1">Resouces</h2>
<div class="outline-text-2" id="text-orgheadline1">
<dl class="org-dl">
<dt><a href="https://github.com/ashishb/android-security-awesome">android-security-awesome</a></dt><dd>A collection of android security related resources</dd>
<dt>(no term)</dt><dd>hawk：Secure Simple Key-Value Storage for Android. 在 App 开发的时候经常要面临存储数据安全的问题，这个库就能帮上忙。</dd>
</dl>
</div>
</div>
<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2">Android Official Security Document</h2>
<div class="outline-text-2" id="text-orgheadline2">
<ul class="org-ul">
<li><a href="https://source.android.com/devices/tech/security/index.html">Security</a></li>
</ul>
</div>
<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5">security/index</h3>
<div class="outline-text-3" id="text-orgheadline5">
</div><div id="outline-container-orgheadline3" class="outline-4">
<h4 id="orgheadline3">Introduction</h4>
<div class="outline-text-4" id="text-orgheadline3">
<ul class="org-ul">
<li>Securing an open platform requires a robust security architecture and rigorous security programs.</li>
<li>Android was designed with multi-layered security.</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline4" class="outline-4">
<h4 id="orgheadline4">Background</h4>
<div class="outline-text-4" id="text-orgheadline4">
<ul class="org-ul">
<li>Application Sandbox</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6">security/overview/index</h3>
</div>
</div>


<div id="outline-container-orgheadline7" class="outline-2">
<h2 id="orgheadline7">Java security</h2>
<div class="outline-text-2" id="text-orgheadline7">
<ul class="org-ul">
<li><a href="http://blog.csdn.net/innost/article/details/44081147">深入理解Android之Java Security第一部分 - Innost的专栏 - 博客频道 - CSDN.NET</a></li>
</ul>

<p>
从Java2开始，Java Security包含主要三个重要的规范：
</p>
<ul class="org-ul">
<li>JavaCryptography Extension（简写为JCE），JCE所包含的内容有加解密，密钥交换，消息摘要（Message Digest, MD5等），密钥管理等。本文所涉及的大部分内容都属于JCE的范畴。</li>
<li>JavaSecure Socket Extension（简写为JSSE），JSSE所包含的内容就是Java层的SSL/TLS。简单点说，使用JSSE就可以创建SSL/TLS socket了。</li>
<li>JavaAuthentication and Authorization Service（简写为JAAS），JSSA和认证/授权有关。这部分内容在客户端接触得会比较少一点，所以本文不拟讨论它。</li>
</ul>
</div>
<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8">JCE</h3>
<div class="outline-text-3" id="text-orgheadline8">
<ul class="org-ul">
<li>Security是java.security包的主要管理类。通过它可向JCE框架注册不同的Provider。</li>
<li>Android平台上，每一个应用程序在启动的时候都会默认注册一个类型为AndroidKeyStoreProvider的对象。</li>
</ul>
</div>

<div id="outline-container-orgheadline9" class="outline-4">
<h4 id="orgheadline9">AndroidKeyStoreProvider</h4>
<div class="outline-text-4" id="text-orgheadline9">
<p>
Android平台中，每个应用程序启动时都会注册一个类型为“AndroidKeyStoreProvider”的对象.这是在ActivityThread中完成的.
</p>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-4">
<h4 id="orgheadline10">Provider是干什么的？</h4>
<div class="outline-text-4" id="text-orgheadline10">
<p>
Provider从Properties类派生。Properties本质上是一个属性列表，也就是它保存了一串的属性名和对应的属性值。
</p>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-4">
<h4 id="orgheadline11">Key知识介绍</h4>
<div class="outline-text-4" id="text-orgheadline11">
<ul class="org-ul">
<li>Key怎么创建？在JCE中是通过Generator类创建的，这时候在代码中得到的是一个Key实例对象。</li>
<li>Key怎么传递？这就涉及到如何书面表达Key了，最最常用的方式就是把它表示成16进制（比如图4中下部Encoded Key Data“0AF34C4E56&#x2026;”）。或者，因为Key产生是基于算法的，这时候就可以把参与计算的关键变量的值搞出来。</li>

<li>在安全领域中，Key分为两种：
<ul class="org-ul">
<li>对称Key：即加密和解密用得是同一个Key。JCE中，对称key的创建由KeyGenerator类来完成。</li>
<li>非对称Key：即加密和解密用得是两个Key。这两个Key构成一个Key对（KeyPair）。其中一个Key叫公钥（PublicKey），另外一个Key叫私钥（PrivateKey）。公钥加密的数据只能用私钥解密，而私钥加密的数据只能用公钥解密。私钥一般自己保存，而公钥是需要发给合作方的。。JCE中，非对称Key的创建由KeyPairGenerator类来完成。</li>
</ul></li>

<li>key -&gt; {PublicKey，PrivateKey和SecretKey}</li>
<li>PublicKey -&gt; {DSAPublicKey, RSAPublicKey}</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline12" class="outline-4">
<h4 id="orgheadline12">Certificates知识介绍</h4>
</div>

<div id="outline-container-orgheadline13" class="outline-4">
<h4 id="orgheadline13">key 管理</h4>
<div class="outline-text-4" id="text-orgheadline13">
<ul class="org-ul">
<li>KeyStore里边存储的东西可分为两种类型。一种存储类型叫Key Entry：KE可携带KeyPair，或者SecretKey信息。如果KE存储的是KeyPair的话，它可能会携带一整条证书链信息。另外一种存储类型是Certificate Entry：CE用于存储根证书。根证书只包含公钥。而且CE一般对应的是可信任的CA证书，即顶级CA的证书。这些证书存储在xxx/cacerts目录下。</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline14" class="outline-4">
<h4 id="orgheadline14">Message Digest和Signature</h4>
<div class="outline-text-4" id="text-orgheadline14">
<ul class="org-ul">
<li>MD的作用是为了防止数据被篡改。</li>
<li>Signature的作用其实和MAC差不太多，但是它用得更广泛点</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline15" class="outline-3">
<h3 id="orgheadline15">JSSE</h3>
</div>
</div>


<div id="outline-container-orgheadline16" class="outline-2">
<h2 id="orgheadline16">base64</h2>
<div class="outline-text-2" id="text-orgheadline16">
<ul class="org-ul">
<li><a href="http://tools.ietf.org/html/rfc3548">http://tools.ietf.org/html/rfc3548</a></li>
<li><a href="http://www.cnblogs.com/hongru/archive/2012/01/14/2321397.html">base64的原理与实现</a></li>
<li><a href="http://my.oschina.net/goal/blog/201032#OSC_h2_11">Javascript,详解 base64编码</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p id="update">Last Updated : 2015-11-26 Thu 00:47 , Created by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.5.1 (<a href="http://orgmode.org">Org</a> mode 8.3.2)</p>
</div>
</body>
</html>
